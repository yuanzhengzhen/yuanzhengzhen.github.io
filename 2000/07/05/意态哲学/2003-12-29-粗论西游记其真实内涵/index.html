<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="1EB8XoOl0C"><meta name="google-site-verification" content="K7thEgdLm0UfRWJ5MGdF7sCcjClSzAlxFLPv2Oz5CGM"><title> 粗论西游记其真实内涵 · 袁争真登峰造极人文艺术博览</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="粗论西游记其真实内涵 - 袁争真"><meta name="keywords"><meta name="author" content="袁争真"><link rel="short icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/bubuzou.css"><link rel="search" type="application/opensearchdescription+xml" href="https://yuanzhengzhen.github.io/atom.xml" title="袁争真登峰造极人文艺术博览"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script></head><body><header><div class="header row"> <a href="/" class="logo-link"><img src="/images/logo.png"></a><ul id="nav_list" class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" data-hover="首页" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" data-hover="所有文章" class="nav-list-link">所有文章</a></li><li class="nav-list-item"><a href="/yzdzl/" target="_self" data-hover="意者的致礼" class="nav-list-link">意者的致礼</a></li><li class="nav-list-item"><a href="/yyyj/" target="_self" data-hover="音韵意境" class="nav-list-link">音韵意境</a></li><li class="nav-list-item"><a href="/yzz/" target="_self" data-hover="袁争真" class="nav-list-link">袁争真</a></li><li class="nav-list-item"><a href="/yzzsf/" target="_self" data-hover="袁争真书法" class="nav-list-link">袁争真书法</a></li><li class="nav-list-item"><a href="/yzzhh/" target="_self" data-hover="袁争真绘画" class="nav-list-link">袁争真绘画</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div id="nav_btn" class="nav-btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><!-- for archive page--><div id="postAr" class="post"><article class="post-block"><h1 class="post-title">粗论西游记其真实内涵</h1><div class="post-info">2000-07-05<p class="visit"><i data-identity="2000/07/05/意态哲学/2003-12-29-粗论西游记其真实内涵/" class="article-timer"></i><span>次访问</span></p></div><div class="post-content"><hr>
<p>.</p>
<p>有依有据的是科学，</p>
<p>有规有律的是自然，</p>
<p>有道有理的是神话。</p>
<p>不符合科学依据的是伪科学，</p>
<p>不符合自然规律的是伪自然，</p>
<p>没道没理是伪神话</p>
<p>.</p>
<p>.</p>
<p>说起西游记这本小说，我想在我们的国家，几乎是无人不晓的吧。</p>
<p>但是，这本西游记是神话小说吗?</p>
<p>究竟在我们这个世界里有没有神仙，我们暂且不管&lt;肯定是没有神仙的，如果有了神仙，这个世界将是神仙的世界了&gt;，反正，这本西游记是人写出来的。</p>
<p>可是这个西游记的作者为什么编了那么多的神仙，写了那么长的故事，他想干什么呢?</p>
<p>.</p>
<p>其原因肯定是有作者不可言状的苦衷。</p>
<p>我们可以试着来探讨一下西游记作者当时创作西游记，为什么编了那么多的神仙来组成故事，达到他创作意图的真正原因。</p>
<p>一， 作者不愿意暴露其真实的创作意图。</p>
<p>二， 作者没有办法用直接描述的手法达到其创作的目的。</p>
<p>三， 用直接描述创作意图的手法会让人们无法接受。</p>
<p>四， 直接描述创作意图会受到打击。</p>
<p>……</p>
<p>.</p>
<p>由于种种，种种的原因，故而作者只能借他想象中的神仙，来实现他的想象意图了。</p>
<p>其实，西游记并不是神话，如果你能分清西游记中各种人物的代表本质，那么，整个西游记的述说，将会展现在你的面前，使你产生一个全新的概念。</p>
<p>他会向你明白无误地述说，我们人类每一个人都迫切需要的，人类的自我修炼的艰难历程。</p>
<p>我们知道，一个完整的人应该由三个部分所组成，即:有思想，有身体，有行为。也就是:思想+身体+行为=完整的人。</p>
<p>知道了这个，我们再来探讨西游记中的人物表现形式吧。</p>
<p>.</p>
<p>唐僧&lt;人&gt;一个完整的人。</p>
<p>三藏&lt;把三样东西藏起来&gt;思想表现，身体表现，行为表现。</p>
<p>整个西游记，唐僧这个人物，虽然是一个人的表现，也有思想表现，身体表现，行为表现。</p>
<p>但是，唐僧这个人物在与孙悟空，沙悟静，猪八戒三者之间的人物安排关系上，作者其真实目的只是让他代表了一个人&lt;完整的人&gt;。</p>
<p>而把孙悟空，沙悟静，猪八戒三者的真实面目给藏起来了。故唐僧号三藏。</p>
<p>.</p>
<p>我们再来看看孙悟空吧。</p>
<p>孙悟空，孙是人的谐音，悟是思想表现，空是没有。连起来解释就是，人没有思想。</p>
<p>但是，没有并不是代表真的没有，因为西游记的作者的主题思想是佛教思想。</p>
<p>那么，孙悟空的起名应该解释为:没有人间的思想，是佛教思想的代表。</p>
<p>我们知道，不管是人间的思想也好，佛教的思想也好，其思维表现形式是一样的&lt;直觉思维，可以用线条来形容&gt;故:孙悟空的兵器&lt;金箍棒&gt;即代表了一种思想所使用的武器。</p>
<p>这金箍棒能长能短，长至无穷，短至没有，可以重达几万斤，可以轻如鸿毛，其道理也就在此了。</p>
<p>在整本西游记的描述中，分清敌友，明辨是非，有关思想表现的一切形式，都是以出现孙悟空来体现的。</p>
<p>.</p>
<p>齐天大圣，天是道教思想的顶点，作者给孙悟空起了这样一个封号，这其实是作者在自我的思想深处认为，&lt;自我的思想，佛&gt;是和道教的思想的顶点是一样的，可以相提并论。</p>
<p>所以给孙悟空&lt;思想&gt;起了一个这样的名字。</p>
<p>至于孙悟空的出处，因为孙悟空在那篇西游记的人物编排中是一个思想的代表，至于人类的思想是从哪里来的，估计连这本西游记的创作者本人都无法解释清楚。</p>
<p>所以作者只能用石头里蹦出个孙悟空来形容其出处了。</p>
<p>.</p>
<p>孙悟空的行为。因为孙悟空代表了思想，所以孙悟空的一切行为表现方式，都不能越过思想表现行为之极限。</p>
<p>我们知道，人的思想所能表现行为之达到的最终极限，只能到人的手指，余下的，将是用行为去表现思想所想达到的目的。</p>
<p>手指是思想行为和行为行为的分界线。故孙悟空再历害也翻不出如来佛的手指。</p>
<p>因为，孙悟空是作者创造的，他代表了一种作者的思想表现，而作者的主题思想是佛教思想，那么，孙悟空逃不出如来佛的手指是顺理成章的事情。</p>
<p>至于孙悟空的火眼金睛更是明确的一种思想描述了，因为只有正确的思想才能明辨一切事物的变化真相。</p>
<p>.</p>
<p>沙悟静&lt;净&gt;，沙:在佛界有这么一句传说，一粒沙子里面还有三千个大世界，也就是说在很小，很小的地方也能找出很多，很多的东西来。这个沙字，一可以说是形容小，二可以认为是物质。沙的合成解释可以这样认为:很小很有内涵。</p>
<p>悟是思想。静是安静，净是干净，&lt;沙悟静，净&gt;沙悟静这个名字的合成解释应为很小的东西经过安静的思索，也会产生很深的内涵。&lt;安静，即空明，去掉杂念&gt;</p>
<p>这是作者对人的身体行为的暗喻。</p>
<p>因为沙悟静在作者创作这个西游记时，在唐僧，孙悟空，猪八戒之三者关系上，沙悟静是代表了唐僧的身体代表，因为身体表现方式只能用安静和干净来体现和形容。</p>
<p>余下的，只能靠思想和行为的结合才能进行表现，行为和身体的结合，如果没有正确的指导思想，那只是一种愚蠢的行为，这个愚蠢的身体是没有的，要么是愚蠢的思想，要么是愚蠢的行为。</p>
<p>这身体的作用最大，承上启下，责任最小，最容易被人们所忽略。</p>
<p>因为沙悟静是西游记中作者创造的一个身体行为的代表，身体中人的血流是作用最大的，故沙悟静的出处在流沙河，而流沙河这个名字也是在作者经过自我修炼后，对自我身体血流之中的物质进行感悟而发的一个创意。</p>
<p>再说沙悟静的兵器吧，由于沙悟静是身体的代表，身体中血液是很重要的。</p>
<p>血如水，而水对自然中月亮的感应是离不开的，所以，作者给了沙悟静一件与月亮有关的兵器，月牙铲。</p>
<p>.</p>
<p>再来看看猪八戒吧，猪，我字的泛指谐音。</p>
<p>因为在这个世界上的每一个人都是我所组成，也可以说是人的所指。</p>
<p>八，&lt;数&gt;，戒，戒除，也就是不要的意思。连起来解释就是，我这八种东西不要了。因为作者是佛教思想的代表，参照佛教便知道是哪八种东西不要了。</p>
<p>猪八戒在西游记中代表了一个人的行为表现，那八种不要的东西正是行为所不能需要的。</p>
<p>悟能，悟是想，能是能力。因为行为是要由能力才能去实现的，这能力要有思想和身体的组成才能实现行为的目的。如果没有思想和身体的帮助，这行为的单独表现也只能用无能&lt;悟能的谐音&gt;来表现了。</p>
<p>猪八戒这一人物的表现形式在整个西游记的编排中，也正是这样描写的。</p>
<p>在西游记的编写过程中，猪八戒这一人物的定位可能还有另外一层深层的内涵。由于作者对当时社会环境的不满意，借西游记这篇小说，把世间人们的一切行为给了一个总姓，猪。因为当时社会的不理解，不接受，不承认作者的思想也正是用行为表现出来的。</p>
<p>可是，由于作者的思想是佛教思想，最后作者还是宽容了人们的行为，虽然人们的行为姓猪，但是，人们只要能守住八条戒律，你也是能成佛的。</p>
<p>猪八戒的出处，由于作者对当时社会对他的思想不理解或不接受，作者认为这种不理解或不接受的行为是没有知识的具体表现，而没有知识的行为只能出自农村&lt;乡下人&gt;，故猪八戒的出处只能在农村&lt;高老庄&gt;了。</p>
<p>由于猪八戒的定位是没有知识的农村人，而猪八戒又是一个人物的行为代表，是农村人的行为表现形式，即，猪八戒的兵器也只能用耙地的钉耙来作为代表了。</p>
<p>.</p>
<p>经过了以上的分析，我们可以大致清楚了西游记作者创作西游记人物表现的含意。</p>
<p>接着，我们再来探讨探讨西游记的作者，是否用这样的编排方式，把西游记的情节互相连接起来，来表达他所想表达的整个意图。</p>
<p>西游记的作者在创作西游记的过程中，把唐僧，孙悟空，沙悟静，猪八戒等人物分列表现的时候。</p>
<p>他们都是以单个的完整形象出现的，而作者在西游记编排的总体设计上，则唐僧代表了一个完整的人，孙悟空代表了这个人的思想表现，沙悟静代表了这个人的身体表现，猪八戒代表了这个人的行为表现。</p>
<p>西游记的总体内容是作者向人们展示了一个人在自我修炼的经历上，身体，思想，和行为之间的种种感受。就这么简单，又那么复杂。</p>
<p>.</p>
<p>我们分析了西游记作者的创作意图和人物表现的关系后，我们再来看看，西游记的作者在西游记的情节安排中，是怎么处理唐僧，孙悟空，沙悟静，猪八戒四者之间的相互连带关系的。</p>
<p>因为在西游记的这篇小说中，唐僧在其余的三位之中是一个完整的人的代表，所以在这个人的总称乎下，那思想&lt;孙悟空&gt;，身体&lt;沙悟静&gt;行为&lt;猪八戒&gt;三者合一都得听从他的指挥了。</p>
<p>在西游记的总体情节安排中，唐僧离不开孙悟空，这是因为人是离不开思想的，如果说人离开了思想，那这个人也就寸步难行了。</p>
<p>但是，有时候人在受到了外来情况的干涉下，也可以不要一个思想，因为孙悟空只是一种思想的代表&lt;佛&gt;但这个思想却是唐僧的主要思想，所以唐僧是离不开孙悟空的，离开了孙悟空唐僧会不辨是非，寸步难行。</p>
<p>.</p>
<p>人和思想的相处关系是非常微妙的，正如西游记作者所描述的一样，唐僧&lt;人&gt;管孙悟空&lt;思想&gt;，孙悟空&lt;思想&gt;也管着唐僧&lt;人&gt;。</p>
<p>唐僧管孙悟空是念紧箍咒，孙悟空管唐僧是就地划圈子。</p>
<p>我们知道，人与思想的关系，思想是依附着人才能得以体现它的存在的。而这思想对人的作用呢?只是人的一种认识和感受而已，如果人在某一种情况的干涉下，那么，人是可以暂时离开那种认识的。</p>
<p>而这个思想&lt;认识&gt;呢?如果说人离开了那种思想&lt;认识&gt;，那么那种思想&lt;认识&gt;，也就不复存在了。</p>
<p>正像西游记作者所描述的一样，唐僧管孙悟空，管得死死的，孙悟空逃也没处逃。</p>
<p>孙悟空管唐僧呢?&lt;思想对人的作用&gt;唐僧轻易的一迈腿就跨出了孙悟空管唐僧所划的圈子。</p>
<p>.</p>
<p>再说沙悟静和猪八戒在西游记中的行为表现吧。</p>
<p>虽然作者在创作安排上，把他俩都形容成了一个独立的人，但是，我们现在知道，沙悟静是代表了人的身体的行为，猪八戒则代表了人的行为的行为。</p>
<p>我们知道，身体和行为的结合，如果没有了正确的思想指导，那是什么事情也干不成的。</p>
<p>沙悟静和猪八戒这二个人的表现，在西游记作者的总体创意编排中，也只能作为辅垫而设。</p>
<p>虽然他们也有很多的故事，但他们的故事，只是作者想为了更加完整的体现作者所想达到目的的补充情节而已。</p>
<p>.</p>
<p>由于孙悟空只代表了人的思想，故孙悟空和沙悟静&lt;身体&gt;的矛盾几乎是没有的。</p>
<p>因为思想和身体之间的相互关系，在那个西游记中作者是无法进行描述的，若想描述身体和思想之间的内在联系，在那个全部隐去真相的，西游记的总体情节表现形式中，是无法办到的。</p>
<p>那么，整个西游记的真相也可以说是为了沙悟静&lt;身体&gt;而写的。</p>
<p>其原因很简单，因为没有了身体，思想表现形式，行为表现形式也就全都没有了。</p>
<p>.</p>
<p>我们再来看看，孙悟空&lt;思想&gt;，和猪八戒&lt;行为&gt;他们之间的相互关系，作者又是怎样进行处理的呢？</p>
<p>我们知道，我们每一个人的行为都是在思想的指导下才能有所行动的，而孙悟空只是一种思想的代表&lt;作者的主题思想，佛&gt;。</p>
<p>而行为呢，有时候，行为的行为，是由多种思想意识的支配而进行多种行为的。</p>
<p>行为有时候也会脱离主题思想进行自我表现的，这就是西游记的作者为什么在创作猪八戒&lt;行为&gt;与孙悟空&lt;思想&gt;的关系上，猪八戒也会离开孙悟空的原故。</p>
<p>但西游记的作者也始终掌握了一个主导思想，即，行为一定得服从主题思想的指导，否则，则是盲动和蠢干。</p>
<p>正是这样，在西游记的情节描写中，每次猪八戒离开了孙悟空或孙悟空不在的时候，猪八戒一定是干了一些蠢事和一些毫无意义的事情。</p>
<p>但是，这种盲动有时候也会产生一些巧合，行为正好暗合了主题思想的目的。</p>
<p>这只是一种巧合而已 。因为孙悟空是代表了思想，所以，在整个西游记的情节描写中，猪八戒&lt;行为&gt;一切得听从孙悟空的指导，求教于孙悟空。这样，才能完成猪八戒&lt;行为&gt;所想完成的事情。</p>
<p>.</p>
<p>现在，基本上清楚了西游记作者在西游记的创作中这四个人物的各种关系后，我们再来仔细地分析一下，作者是在什么历史背景下及为什么要创作这本西游记作品的真实目的吧。</p>
<p>这部西游记如此隐秘地描述了人的思想，身体，行为之间的因果关系，肯定作者受当时的历史环境所制，和作者自已有种种言不由衷的苦处。</p>
<p>.</p>
<p>我们知道，西游记的中心思想是佛教思想，孙悟空是西游记中思想的代表，因为只有思想的表现才能出现无穷的变化，上天入地，翻江倒海，一个筋斗十万八千里。</p>
<p>在西游记中，孙悟空一出世便惊动了玉皇大帝。而玉皇大帝则是道教的最高统治者，是天的代表。孙悟空大闹了天宫后，便自已给自已封了个称号:齐天大圣。</p>
<p>在这里，我们可以清楚地看出，西游记的作者在经过了一段自我的修炼过程后，认为自已拥有的修炼成果，已经和当时道教最高形式的修炼形式相同了。</p>
<p>你道教修炼的最高认识是天，那么，我的修炼最高认识也是天，我可以说是和你一样平起平坐了。在这种思想认识的支配下，作者把孙悟空，也就是自已的思想代表封了个齐天大圣，充分的体现了作者思想意识之目的。</p>
<p>但是，自我思想上的平起平坐，并不等于现实社会上的平起平坐。</p>
<p>因为当时社会，道教的影响力已不是作者的自我思想所能左右，在实在没有办法的情况下&lt;作者自已也知道，思想是思想，现实是现实&gt;，作者只能把齐天的思想，深深地压在了自已的五指山下。</p>
<p>.</p>
<p>作者的思想一出世便怕得不到当时社会的承认，怕遭受道教思想的打击，在没有办法的情况下，作者只能以这种神话的形式来传播他所想表达的思想了。</p>
<p>他用神话故事这种方式把人，思想，身体和行为，巧妙地用他的方式，表示了出来。并隐秘地把这个人&lt;唐僧也就是作者&gt;在取经中所遭遇的经历&lt;修炼过程&gt;，及作者的思想和道教的思想由不统一到统一的最终结局，如意地融入了那一篇呕心泣血所创作的西游记中去了。</p>
<p>西游记的作者在描写他思想的代表孙悟空的时候，孙悟空在整个西游记的取经路上，几乎帮忙的全是佛教人物，捣乱的，几乎全是由于道教的管理不严而造成的。</p>
<p>虽然孙悟空在取经的路上遇到了很多很多的磨难，但作者精神不倒，故孙悟空在整个西游记的情节展开中，作者念念不忘，口头禅便是:俺老孙，齐天大圣来也。</p>
<p>.</p>
<p>这个西游记的作者始终认为，佛和道的最终目的是一样的，不管是佛也好，道也好，只是其表现的形式与表现的过程不一样。</p>
<p>所以，最终在最后取经成功的结局中，给了一个佛道的皆大欢喜，都是佛，都是仙了。</p>
<p>.</p>
<p>这个西游记的作者为什么始终都认为佛和道是一样的，要平起平坐呢?其真正原因究竟是在哪里呢?</p>
<p>这也是西游记中比较关键比较隐秘的内涵了。</p>
<p>因为纵观整部西游记的情节，通过作者的创意，通过唐僧这个人在取经路上所受到的磨难，最后得到成功的经历，告诉了我们，人的三界，思想，身体和行为，都是能够独立而又统一表现的&lt;修炼状态&gt;，不管是佛也好，道也好，作者认为他们总是脱离不了这一规律的。</p>
<p>如果说，人的思想，身体和行为经过修炼后，能够得到如意统一的话。那么，人人都是佛，人人都是仙了。</p>
<p>这个人的三界的统一，一定得在思想上要有一个正确的统一认识，这个人的身体行为，行为行为才能得到统一。</p>
<p>这个人的思想上的正确认识，也可以叫法，也可以叫道。</p>
<p>如果我们自我在认识了这个规律后，在进行自我修炼的同时&lt;也可以说是得法或得道了&gt;，在认识上已经站在了佛，道的平行线上了。</p>
<p>有了这个正确的认识，我们在进行自我修炼的时候，再也不会盲目地去追求这个功，那个法了。</p>
<p>.</p>
<p>西游记的作者指出了人的思想，身体和行为互相结合统一能够成佛成道的理论，可惜的是，作者只是用理论提出了一个认识，有关具体代表人的，却是人的身体。</p>
<p>思想和行为的统一，一定得通过身体去完成，思想和身体的结合，作者没有说清楚，身体和行为的结合，作者又没有说清楚，那么怎么修炼呢?</p>
<p>.</p>
<p>如果我们真的没有办法的话，那么，我们用感觉离开那个西游记中的沙悟静吧，让我们用我们的感应，感悟，深入地把那个西游记中的沙悟静找出来吧，因为在那本整个的西游记的描写中，所有的人物全是为真沙悟静而辅设的。</p>
<p>所有的情节全是为那个真沙悟静而描写的，这也是作者对人类修炼自我&lt;身体，沙悟静&gt;有所感悟，而变着手法来暗示人们的。</p>
<p>如果你能真的看进去，把那个沙悟静找出来读懂它，应用它，包你一辈子享用不尽，毕竟做一个完整的人，是一件，实在不容易的事啊。</p>
</div></article></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">搜索</label></div><div id="search_result" class="search-result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a href="/2000/07/05/意态哲学/2003-12-29-了解自我,掌握自我,战胜自我/" title="了解自我，掌握自我，战胜自我。" class="prev">上一篇</a><a href="/2000/07/05/意态哲学/2003-12-28-有形 变形 无形/" title="有形 变形 无形" class="next">下一篇</a></div><a href="#comment" class="comment-anchor"></a><div id="vcomments"></div><script>new Valine({
    el: "#vcomments",
    appId: "cciR1KrLVKWaeNPIKmYwylVk-gzGzoHsz",
    appKey: "PzSimuNeUrBhzk3MrLXw53M3",
    notify: false,
    verify: false,
    avatar: "robohash",
    visitor: true,
    placeholder: "袁争真所有文章、言论，皆属原创，未借助任何参考资料，\n系几十年来感悟天地人之心得体会。\n感谢来访，欢迎留言！\n",
});</script><div class="copyright"></div><center>袁争真登峰造极人文艺术博览  </center>
<br>
<center>踏平青山人不老&nbsp&nbsp&nbsp 此地风景独逍遥</center>
<br>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv"><center>&nbsp页面刷新&nbsp  <span id="busuanzi_value_site_pv"></span>&nbsp  次 </center></span>
<span id="busuanzi_container_site_uv"><center>访客数&nbsp  <span id="busuanzi_value_site_uv"></span> &nbsp 人</center></span><div class="totop"><i></i></div></div></footer><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="/scripts/jquery-1.8.2.min.js"></script><script src="/scripts/ar-anchor.js"></script><script src="/scripts/main.js"></script><script>const valineAPI = (() => {
try {
    AV.init("cciR1KrLVKWaeNPIKmYwylVk-gzGzoHsz", "PzSimuNeUrBhzk3MrLXw53M3");
} catch(error) {}
const isExist = (identity) => {
    identity = identity || getRealPath();
    let query = new AV.Query('Timer');
    return new Promise((resolve, reject) => {
    query.equalTo("identity", identity);
    query.find().then(results => {
        resolve(results.length > 0);
    }, error => reject(error));
    })
}

const _get = (identity) => {
    let query = null;
    if(identity && identity instanceof Array){
    let querys = [];
    for(let i = 0; i < identity.length; ++i) {
        querys[i] = new AV.Query('Timer');
        querys[i].equalTo('identity', identity[i]);
    }
    query = AV.Query.or.apply(null ,querys);
    } else {
    identity = identity || getRealPath();
    query = new AV.Query("Timer");
    query.equalTo("identity", identity);
    }

    return new Promise((resolve, reject) => {
    query.find()
    .then(results => resolve(results))
    .catch(error => reject(error))
    })
}

const create = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
    let Todo = AV.Object.extend('Timer');
    let todo = new Todo();
    todo.set("times", 1);
    todo.set("identity", identity);
    todo.save().then(res => resolve(true), error => reject(error));
    })
}

const update = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
    let query = new AV.Query('Timer');
    query.equalTo("identity", identity);
    query.find().then(todos => {
        todos.forEach(todo => {
        todo.set("times", todo.attributes.times + 1);
        });
        return AV.Object.saveAll(todos);
    }).then(todos => resolve(true), error => reject(error));
    })
}

return {
    isExist,
    _get,
    update,
    create
}
})()

const calcAndWriteTimes = () => {
let isPost = true;

let timerAllDOM = document.querySelectorAll(".article-timer");

if(isPost) {
    let identity = timerAllDOM[0].getAttribute("data-identity");
    valineAPI.isExist(identity)
    .then(exist => {
    if(exist) {
        return valineAPI.update(identity);
    }
    return new Promise(resolve => resolve(true));
    })
    .then( succuess => valineAPI._get(identity))
    .then( result => timerAllDOM[0].innerText = result[0].attributes.times)
    .catch(error => console.log(error.message))
    return ;
}

let timerDOMCache = {};

for(let timerDOM of timerAllDOM) {
    let identity = timerDOM.getAttribute("data-identity");
    if(timerDOMCache.hasOwnProperty(identity)){
    timerDOMCache[identity].dom.push(timerDOM);
    }else{
    timerDOMCache[identity] = {
        dom: [timerDOM],
        times: undefined
    };
    }
}

let identities = Object.keys(timerDOMCache);
valineAPI._get(identities).then(results => {
    for(let result of results) {
    let {identity, times} = result.attributes;
    timerDOMCache[identity].times = times;
    timerDOMCache[identity].dom.map(item => item.innerText = times);
    }
    for(let identity of identities) {
    if(timerDOMCache[identity].times){
        continue;
    }
    timerDOMCache[identity].dom.map(item => item.innerText = 1);
    valineAPI.create(identity);
    }
}).catch(error => console.log(error.message))
}

if(true){
calcAndWriteTimes();
}</script></body></html>